!function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();const a='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function l(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}class n{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:t,config:e,api:i,readOnly:r}){this.api=i,this.readOnly=r,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=e.placeholder?e.placeholder:n.DEFAULT_PLACEHOLDER,this._data={indent:this.getConfig("indent",!1,t),text:t&&t.text?t.text:[]},this._element=null,this._preserveBlank=e.preserveBlank??!1}onKeyUp(t){if("Backspace"!==t.code&&"Delete"!==t.code||!this._element)return;const{textContent:e}=this._element;""===e&&(this._element.innerHTML="")}drawView(){const t=document.createElement("DIV");return 1==this._data.indent&&t.classList.add("indent"),t.classList.add(this._CSS.wrapper,this._CSS.block),t.contentEditable="false",t.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(t.innerHTML=this._data.text),this.readOnly||(t.contentEditable="true",t.addEventListener("keyup",this.onKeyUp)),t}render(){return this._element=this.drawView(),this._element}renderSettings(){return[{label:this.api.i18n.t("Indent"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L10 12M10 12L7 15M10 12H4"></path><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L14 12M14 12L17 15M14 12H20"></path></svg>',isActive:this._data.indent,closeOnActivate:!0,toggle:!0,onActivate:()=>{this._data.indent=!0,this._element.classList.add("indent")}},{label:this.api.i18n.t("Unindent"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"></path><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"></path><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"></path><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"></path></svg>',isActive:!this._data.indent,closeOnActivate:!0,toggle:!0,onActivate:()=>{this._data.indent=!1,this._element.classList.remove("indent")}}]}merge(t){if(!this._element)return;this._data.text+=t.text;const e=l(t.text);this._element.appendChild(e),this._element.normalize()}validate(t){return!(""===t.text.trim()&&!this._preserveBlank)}save(t){return{indent:this._data.indent,text:t.innerHTML}}onPaste(t){const e={text:t.detail.data.innerHTML};this._data=e,window.requestAnimationFrame((()=>{this._element&&(this._element.innerHTML=this._data.text||"")}))}getConfig(t,e=void 0,n=void 0){const i=this._data||n;return i?i[t]?i[t]:e:this.config&&this.config[t]?this.config[t]:e}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:a,title:"Text"}}}export{n as default};